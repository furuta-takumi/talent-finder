<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>検索結果</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="data.js"></script>
</head>
<body class="bg-gray-50 pb-20">
    <header class="bg-white shadow p-4 sticky top-0 z-50 flex items-center gap-2">
        <a href="dashboard.html" class="text-gray-500">←</a>
        <input type="text" placeholder="キーワード検索..." class="bg-gray-100 rounded px-3 py-1 w-full text-sm">
    </header>

    <main class="p-4 max-w-md mx-auto">
        <div class="flex gap-2 mb-4 overflow-x-auto whitespace-nowrap pb-2">
            <select class="border rounded px-2 py-1 text-sm bg-white"><option>部署: 全て</option></select>
            <select class="border rounded px-2 py-1 text-sm bg-white"><option>資格: 全て</option></select>
            <select class="border rounded px-2 py-1 text-sm bg-white"><option>入社年度</option></select>
        </div>

        <p class="text-sm text-gray-500 mb-2" id="result-count">--件ヒットしました</p>

        <div class="space-y-3" id="user-list">
            </div>
    </main>

    <script>
        const listContainer = document.getElementById('user-list');
        document.getElementById('result-count').innerText = `${users.length}件ヒットしました`;

        // 全ユーザーをループして表示
        users.forEach(user => {
            // タグのHTML生成
            const tagsHtml = user.tags.map(tag => 
                `<span class="text-xs bg-blue-100 text-blue-800 px-2 py-0.5 rounded">${tag}</span>`
            ).join('');

            // カードHTML生成（リンクに ?id=XX をつけるのが重要）
            const cardHtml = `
                <a href="profile.html?id=${user.id}" class="block bg-white p-4 rounded shadow hover:bg-blue-50 transition">
                    <div class="flex justify-between items-start">
                        <div class="flex gap-3">
                            <img src="https://api.dicebear.com/7.x/avataaars/svg?seed=${user.id}" class="rounded-full w-12 h-12 bg-gray-100">
                            <div>
                                <h3 class="font-bold">${user.name}</h3>
                                <p class="text-sm text-gray-600">${user.dept}</p>
                                <div class="flex gap-1 mt-2 flex-wrap">
                                    ${tagsHtml}
                                </div>
                            </div>
                        </div>
                    </div>
                </a>
            `;
            listContainer.innerHTML += cardHtml;
        });
    </script>
</body>
</html>