<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>自分のカードを編集</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="theme.js"></script>
    <link rel="stylesheet" href="style.css">
</head>
<body class="bg-secondary-50 min-h-screen pb-20">

    <header class="bg-secondary-800 text-white border-b-4 border-secondary-600 sticky top-0 z-50 h-16 flex items-center px-6 justify-between shadow-lg">
        <div class="flex items-center gap-3">
            <h1 class="font-bold text-xl tracking-widest" style="font-family: 'Zen Maru Gothic'">MY CARD EDIT</h1>
        </div>
        <div class="flex items-center gap-4">
            <a href="dashboard.html" class="px-4 py-2 bg-white text-secondary-800 rounded font-bold hover:bg-secondary-100 transition shadow-sm text-sm">
                保存して戻る
            </a>
        </div>
    </header>

    <div class="w-[96%] max-w-[1800px] mx-auto p-4 lg:p-8 grid grid-cols-1 lg:grid-cols-12 gap-8">
        
        <aside class="lg:col-span-4 hidden lg:block">
            <div class="sticky top-24">
                <div class="flex items-center gap-2 mb-4">
                    <span class="text-2xl">👀</span>
                    <h2 class="font-bold text-secondary-700">カードの見た目（プレビュー）</h2>
                </div>
                
                <div class="bg-white p-6 shadow-floating transform rotate-1 relative border-t-8 border-primary-400 rounded-sm">
                    <div class="pin-tack"></div>
                    <div class="flex items-start justify-between mb-4 pt-2">
                        <div class="flex items-center gap-4">
                            <img src="https://api.dicebear.com/7.x/avataaars/svg?seed=MyIcon" class="w-16 h-16 rounded bg-secondary-50 border border-secondary-200 shadow-sm">
                            <div>
                                <h3 class="font-bold text-secondary-800 text-2xl" id="preview-name">山田 太郎</h3>
                                <p class="text-sm text-secondary-500 font-bold mt-1 border-b border-secondary-200 inline-block" id="preview-dept">開発部</p>
                            </div>
                        </div>
                    </div>
                    <div class="space-y-4">
                        <div>
                            <p class="text-[10px] text-secondary-400 font-bold mb-1">スキル</p>
                            <div class="flex flex-wrap gap-1" id="preview-skills">
                                <span class="px-2 py-0.5 rounded text-[10px] font-bold bg-primary-50 text-primary-700 border border-primary-100">Python</span>
                            </div>
                        </div>
                        <div class="bg-secondary-50/50 p-3 rounded border-l-4 border-secondary-300">
                            <p class="text-sm text-secondary-600 font-medium italic" id="preview-comment">"ここにひとことが入ります"</p>
                        </div>
                        <div class="flex justify-between items-center pt-2 border-t border-dotted border-secondary-200">
                             <span class="text-xs text-secondary-400 font-bold uppercase tracking-wider" id="preview-role">2020年入社</span>
                        </div>
                    </div>
                </div>
                
                <p class="text-xs text-secondary-400 mt-4 text-center">
                    ※ リアルタイムで反映されます
                </p>
            </div>
        </aside>

        <main class="lg:col-span-8">
            <div class="bg-white p-8 rounded shadow-sm border border-secondary-200">
                <h2 class="text-xl font-bold text-secondary-700 mb-6 border-b-2 border-secondary-100 pb-2 flex items-center gap-2">
                    <span>✏️</span> 情報を入力
                </h2>

                <form class="space-y-8">
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <div>
                            <label class="block text-sm font-bold text-secondary-600 mb-2">名前</label>
                            <input type="text" value="山田 太郎" class="w-full border-2 border-secondary-200 rounded p-3 focus:border-primary-500 focus:bg-primary-50/20 outline-none transition font-bold" oninput="updatePreview('name', this.value)">
                        </div>
                        <div>
                            <label class="block text-sm font-bold text-secondary-600 mb-2">フリガナ</label>
                            <input type="text" value="ヤマダ タロウ" class="w-full border-2 border-secondary-200 rounded p-3 focus:border-primary-500 outline-none transition">
                        </div>
                    </div>

                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <div>
                            <label class="block text-sm font-bold text-secondary-600 mb-2">部署</label>
                            <select class="w-full border-2 border-secondary-200 rounded p-3 focus:border-primary-500 outline-none transition cursor-pointer" onchange="updatePreview('dept', this.value)">
                                <option>開発部</option><option>営業部</option><option>人事部</option>
                            </select>
                        </div>
                        <div>
                            <label class="block text-sm font-bold text-secondary-600 mb-2">入社年度・役職</label>
                            <input type="text" value="2020年入社" class="w-full border-2 border-secondary-200 rounded p-3 focus:border-primary-500 outline-none transition" oninput="updatePreview('role', this.value)">
                        </div>
                    </div>

                    <div>
                        <label class="block text-sm font-bold text-secondary-600 mb-2">ひとことコメント (今の気持ち)</label>
                        <input type="text" value="新しい技術に挑戦中です！" class="w-full border-2 border-secondary-200 rounded p-3 focus:border-primary-500 outline-none transition" oninput="updatePreview('comment', this.value)">
                    </div>

                    <div>
                        <label class="block text-sm font-bold text-secondary-600 mb-2">得意なスキル (カンマ区切り)</label>
                        <input type="text" value="Python, JavaScript, デザイン" class="w-full border-2 border-secondary-200 rounded p-3 focus:border-primary-500 outline-none transition mb-2" oninput="updatePreviewSkills(this.value)">
                        <p class="text-xs text-secondary-400">例: Excel, 英語, リーダーシップ</p>
                    </div>

                    <div>
                        <label class="block text-sm font-bold text-secondary-600 mb-2">自己紹介・プロフィール詳細</label>
                        <textarea rows="6" class="w-full border-2 border-secondary-200 rounded p-3 focus:border-primary-500 outline-none transition resize-none leading-relaxed" placeholder="これまでの経歴や、趣味、休日の過ごし方などを自由に書いてください。">大学卒業後、SIerにて基幹システムの開発に従事。
現在はWebフロントエンド技術を中心に学習しており、使いやすいUIデザインに興味があります。
休日はカフェ巡りやキャンプをしています。</textarea>
                    </div>

                    <div class="pt-6 border-t border-secondary-100 flex justify-end gap-4">
                        <button type="button" class="px-6 py-3 rounded text-secondary-500 font-bold hover:bg-secondary-50 transition">キャンセル</button>
                        <button type="button" class="px-8 py-3 bg-primary-600 text-white rounded font-bold shadow hover:bg-primary-700 hover:shadow-lg transition transform hover:-translate-y-0.5" onclick="location.href='dashboard.html'">
                            保存する
                        </button>
                    </div>
                </form>
            </div>
        </main>
    </div>

    <script>
        function updatePreview(id, value) {
            document.getElementById('preview-' + id).innerText = value;
        }
        function updatePreviewSkills(value) {
            const container = document.getElementById('preview-skills');
            container.innerHTML = '';
            const skills = value.split(/,|、/).map(s => s.trim()).filter(s => s);
            skills.forEach(skill => {
                const span = document.createElement('span');
                span.className = 'px-2 py-0.5 rounded text-[10px] font-bold bg-primary-50 text-primary-700 border border-primary-100';
                span.innerText = skill;
                container.appendChild(span);
            });
        }
        // 初期反映
        updatePreview('name', '山田 太郎');
        updatePreview('dept', '開発部');
        updatePreview('role', '2020年入社');
        updatePreview('comment', '新しい技術に挑戦中です！');
        updatePreviewSkills('Python, JavaScript, デザイン');
    </script>
</body>
</html>